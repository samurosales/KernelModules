(this["webpackJsonpso-pra-03-client"]=this["webpackJsonpso-pra-03-client"]||[]).push([[0],{362:function(e,t,a){e.exports=a(713)},367:function(e,t,a){},368:function(e,t,a){},713:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(9),c=a.n(o),s=(a(367),a(50)),l=a(51),i=a(53),u=a(52),d=(a(368),a(369),a(31)),m=a.n(d),p=a(60),f=a(724),h=a(720),g=a(13),v=a(163),b=a(34),E=a(721),y=a(722),k=a(716);function x(e){return new Promise((function(t){return setTimeout(t,e)}))}var w=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onFormSubmit=function(){var t=Object(p.a)(m.a.mark((function t(a,n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.setSubmitting,n.resetForm,t.next=3,x(500);case 3:"admin"===a.username&&"admin"===a.password?e.props.onLoginSuccess():f.a.error("Credenciales incorrectas"),r(!1);case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e}return Object(l.a)(a,[{key:"render",value:function(){var e=v.object().shape({username:v.string().required("Username es requerido"),password:v.string().required("Password es requerido")});return r.a.createElement("div",{style:{}},r.a.createElement(h.a,{title:"BIENVENIDO",style:{width:800,margin:"50px auto"}},r.a.createElement(b.b,{validationSchema:e,onSubmit:this.onFormSubmit,initialValues:{username:"",password:""}},(function(){return r.a.createElement(E.a,{layout:"inline"},r.a.createElement("h1",null,"SISTEMAS OPERATIVOS 1 - PROYECTO #1"),r.a.createElement("h2",null,"Andrea Vicente - Ruben Osorio"),r.a.createElement(E.a.Item,{label:"",name:"username",hidden:!0},r.a.createElement(y.a,{prefix:r.a.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)",display:"none"}}),name:"username",placeholder:"Username",hidden:!0})),r.a.createElement(E.a.Item,{label:"",name:"password",hidden:!0},r.a.createElement(y.a,{prefix:r.a.createElement(g.a,{type:"lock",style:{color:"rgba(0,0,0,.25)",display:"none"}}),name:"password",type:"password",placeholder:"Password",hidden:!0})),r.a.createElement(k.a,null,"Vamos a ver!"))}))))}}]),a}(r.a.Component),S=a(87),O=a.n(S),j=a(717),P=a(106),D=a(46),C=a(723),M=a(57),I=a(719),A=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getProcesses=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({tableLoading:!0}),e.prev=1,e.next=4,O.a.get("/processes");case 4:t=e.sent,(a=t.data).forEach((function(e){return e.key=e.pid})),n.setState({tableLoading:!1,tableDataSource:a}),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("ocurrio un error"),console.log(e.t0),f.a.error("ocurrio un error al obtener los procesos"),n.setState({tableLoading:!1,tableDataSource:[]});case 16:case"end":return e.stop()}}),e,null,[[1,10]])}))),n.killProcess=function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("a punto de matar al proceso:",t.name,"con pid:",t.pid),e.next=4,O.a.get("/kill/".concat(t.pid));case 4:a=e.sent,console.log(a),f.a.success("Proceso '".concat(t.name,"' con pid ").concat(t.pid," matado")),n.getProcesses(),e.next=18;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("ocurrio un error"),console.log(e.t0),console.log(e.t0.response.data),console.log(e.t0.response.status),console.log(e.t0.response.headers),f.a.error("No se pudo matar el proceso");case 18:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),n.state={tableLoading:!1,tableDataSource:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getProcesses()}},{key:"render",value:function(){var e=this,t=[{title:"PID",dataIndex:"pid",key:"key",onFilter:function(e,t){return!0}},{title:"Nombre",dataIndex:"name",key:"name"},{title:"Estado",dataIndex:"state",key:"state"},{title:"Usuario",dataIndex:"uid",key:"uid"},{title:"Acciones",key:"action",render:function(t,a){return r.a.createElement("span",null,r.a.createElement(j.a,{title:"Matar este proceso?",okText:"Si",cancelText:"No",onConfirm:function(){e.killProcess(a)}},r.a.createElement("a",null,r.a.createElement(g.a,{type:"close-circle"})," Matar")))}}],a=this.state.tableDataSource.filter((function(e){return e.state.includes("running")})).length,n=this.state.tableDataSource.filter((function(e){return e.state.includes("sleeping")})).length,o=this.state.tableDataSource.filter((function(e){return e.state.includes("stopped")})).length,c=this.state.tableDataSource.filter((function(e){return e.state.includes("zombie")})).length,s=this.state.tableDataSource.filter((function(e){return e.state.includes("idle")})).length,l=this.state.tableDataSource.filter((function(e){return e.state.includes("disk sleep")})).length;return r.a.createElement("div",{style:{background:"white",padding:"8px"}},r.a.createElement(P.a,null,r.a.createElement(D.a,{xs:{span:5,offset:1},lg:{span:6,offset:2}},r.a.createElement(C.a,{title:"Total Procesos",value:this.state.tableDataSource.length})),r.a.createElement(D.a,{xs:{span:5,offset:1},lg:{span:6,offset:2}},r.a.createElement(C.a,{title:"Running",value:a})),r.a.createElement(D.a,{xs:{span:5,offset:1},lg:{span:6,offset:2}},r.a.createElement(C.a,{title:"Sleeping",value:n})),r.a.createElement(D.a,{xs:{span:5,offset:1},lg:{span:6,offset:2}},r.a.createElement(C.a,{title:"Stopped",value:o})),r.a.createElement(D.a,{xs:{span:5,offset:1},lg:{span:6,offset:2}},r.a.createElement(C.a,{title:"Idle",value:s})),r.a.createElement(D.a,{xs:{span:5,offset:1},lg:{span:6,offset:2}},r.a.createElement(C.a,{title:"Disk Sleep",value:l})),r.a.createElement(D.a,{xs:{span:5,offset:1},lg:{span:6,offset:2}},r.a.createElement(C.a,{title:"Zombie",value:c}))),r.a.createElement(M.a,{onClick:this.getProcesses},r.a.createElement(g.a,{type:"sync"}),"Actualizar"),r.a.createElement(I.a,{size:"middle",loading:this.state.tableLoading,dataSource:this.state.tableDataSource,columns:t}))}}]),a}(r.a.Component),L=a(718),V=a(42),T=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).lastValue=null,n.charLen=40,n.updateChar=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.prev=1;case 2:return e.next=5,O.a.get("/cpu");case 5:return a=e.sent,e.next=8,t(1e3);case 8:n.lastValue&&function(){var e=a.data.total-n.lastValue.total,t={uv:100*(e-(a.data.idle-n.lastValue.idle))/e};n.setState((function(e,a){var n=e.data.slice(1);return n.push(t),{data:n}}))}(),n.lastValue=a.data,e.next=2;break;case 12:e.next=19;break;case 14:e.prev=14,e.t0=e.catch(1),console.log("ocurrio un error"),console.log(e.t0),f.a.error("Ocurrio un error, ya no se pudo actualizar");case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));var r=Array.apply(null,Array(n.charLen)).map((function(e,t){return{uv:0}}));return n.state={data:r},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.updateChar()}},{key:"render",value:function(){var e=this.state.data[this.state.data.length-1].uv;return r.a.createElement("div",{style:{background:"white"}},r.a.createElement(C.a,{title:"CPU%",value:e.toFixed(2)}),r.a.createElement(V.c,{style:{margin:"0 auto"},width:1200,height:400,data:this.state.data},r.a.createElement(V.b,{type:"monotone",dataKey:"uv",stroke:"blue"}),r.a.createElement(V.a,{stroke:"#ccc"}),r.a.createElement(V.d,null),r.a.createElement(V.e,{domain:[0,100]})))}}]),a}(r.a.Component),F=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).lastValue=null,n.charLen=40,n.updateChar=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.prev=1,a=m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("/ram");case 2:return a=e.sent,e.next=5,t(1e3);case 5:n.setState((function(e,t){var n=e.data.slice(1);return n.push(a.data),{data:n}}));case 6:case"end":return e.stop()}}),e)}));case 3:return e.delegateYield(a(),"t0",5);case 5:e.next=3;break;case 7:e.next=14;break;case 9:e.prev=9,e.t1=e.catch(1),console.log("ocurrio un error"),console.log(e.t1),f.a.error("Ocurrio un error, ya no se pudo actualizar");case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));var r=Array.apply(null,Array(n.charLen)).map((function(e,t){return{totalMb:0,usedMb:0,total:0,used:0,usage:0}}));return n.state={data:r},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.updateChar()}},{key:"render",value:function(){var e=this.state.data[this.state.data.length-1];return r.a.createElement("div",{style:{background:"white",textAlign:"center"}},r.a.createElement(C.a,{title:"Total MB",value:e.totalMb.toFixed(2)}),r.a.createElement(C.a,{title:"Usado MB",value:e.usedMb.toFixed(2)}),r.a.createElement(C.a,{title:"RAM%",value:e.usage.toFixed(2)}),r.a.createElement(V.c,{style:{margin:"0 auto"},width:1200,height:400,data:this.state.data},r.a.createElement(V.b,{type:"monotone",dataKey:"usedMb",stroke:"blue"}),r.a.createElement(V.a,{stroke:"#ccc"}),r.a.createElement(V.d,null),r.a.createElement(V.e,{domain:[0,parseInt(e.totalMb,10)]})))}}]),a}(r.a.Component),N=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onLoginSuccess=function(){n.setState({logged:!0})},n.state={logged:!1},n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},!this.state.logged&&r.a.createElement(w,{onLoginSuccess:this.onLoginSuccess}),this.state.logged&&r.a.createElement(L.a,{dotPosition:"top"},r.a.createElement("div",{key:"1"},r.a.createElement("h3",null,"Procesos"),r.a.createElement(A,null)),r.a.createElement("div",{key:"2"},r.a.createElement("h3",null,"CPU"),r.a.createElement(T,null)),r.a.createElement("div",{key:"3"},r.a.createElement("h3",null,"Ram"),r.a.createElement(F,null))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[362,1,2]]]);
//# sourceMappingURL=main.9bc78ab4.chunk.js.map